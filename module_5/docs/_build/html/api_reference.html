<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>API Reference &#8212; module_4 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Testing Guide" href="testing_guide.html" />
    <link rel="prev" title="Architecture" href="architecture.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading">¶</a></h1>
<p>This section provides documentation for each module.</p>
<p id="module-analysis">Analysis utilities for Module 4.</p>
<p>This module provides a placeholder analysis function used by the Flask
application and the test suite. In a full application, this module would
compute statistics based on stored rows. For Module 4, the function is
intentionally minimal because the tests only verify that it returns a
string and that the Flask routes call it correctly.</p>
<dl class="py function">
<dt class="sig sig-object py" id="analysis.compute_analysis">
<span class="sig-prename descclassname"><span class="pre">analysis.</span></span><span class="sig-name descname"><span class="pre">compute_analysis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#analysis.compute_analysis" title="Link to this definition">¶</a></dt>
<dd><p>Compute and return analysis results.</p>
<p>In Module 4, this function does not perform real computation. It
simply returns a placeholder string so that the Flask application
and Sphinx documentation have a stable interface. The test suite
may mock this function to supply controlled output.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A placeholder analysis result.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<p id="module-load_data">In‑memory storage utilities for Module 4.</p>
<p>This module provides a minimal fake database used for testing and for the
Flask application. Instead of writing a real database,
rows are stored in a module‑level list named <code class="docutils literal notranslate"><span class="pre">_db</span></code>.</p>
<p>The test suite interacts with this module by:
- mocking the scraper to supply controlled rows
- calling <code class="docutils literal notranslate"><span class="pre">insert_rows</span></code> to append new entries
- calling <code class="docutils literal notranslate"><span class="pre">get_all_rows</span></code> to retrieve the current state</p>
<p>The goal is to provide a predictable, lightweight storage
layer for the assignment.</p>
<dl class="py function">
<dt class="sig sig-object py" id="load_data.get_all_rows">
<span class="sig-prename descclassname"><span class="pre">load_data.</span></span><span class="sig-name descname"><span class="pre">get_all_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#load_data.get_all_rows" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve all stored rows.</p>
<p>Returns a copy of the internal list so callers cannot
mutate the underlying storage unintentionally.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>All rows currently stored in the in‑memory database.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="load_data.insert_rows">
<span class="sig-prename descclassname"><span class="pre">load_data.</span></span><span class="sig-name descname"><span class="pre">insert_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#load_data.insert_rows" title="Link to this definition">¶</a></dt>
<dd><p>Insert new rows into the in‑memory database.</p>
<p>This function appends the provided rows to the global <code class="docutils literal notranslate"><span class="pre">_db</span></code> list.
The behavior is intentionally simple because the test suite controls
the input via mocks. It performs no deduplication, validation, or transformation of rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rows</strong> (<em>list</em><em>[</em><em>dict</em><em>]</em>) – A list of row dictionaries to store.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<p id="module-scrape">Scraping interface placeholder for Module 4.</p>
<p>This module defines the public scraping function used by the Flask
application. In the real world, this function would fetch and parse
external data. However, for Module 4, the function is intentionally
minimal because the test suite mocks it to supply controlled rows.</p>
<p>The purpose of this module is to provide a stable interface so that:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">app.py</span></code> can call <code class="docutils literal notranslate"><span class="pre">scrape.load_rows()</span></code> without knowing the details.</p></li>
<li><p>The pytest suite can patch <code class="docutils literal notranslate"><span class="pre">load_rows</span></code> to return predictable data.</p></li>
<li><p>Sphinx can generate API documentation for the scraping layer.</p></li>
</ul>
<p>No network requests or parsing logic are implemented here.</p>
<dl class="py function">
<dt class="sig sig-object py" id="scrape.load_rows">
<span class="sig-prename descclassname"><span class="pre">scrape.</span></span><span class="sig-name descname"><span class="pre">load_rows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scrape.load_rows" title="Link to this definition">¶</a></dt>
<dd><p>Return placeholder scraped rows.</p>
<p>In Module 4, this function is never used to perform real scraping.
Instead, the test suite replaces it with a mock that returns
controlled test data. The default implementation simply returns
an empty list so the application can run without errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An empty list unless replaced by a test mock.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[dict]</p>
</dd>
</dl>
</dd></dl>

<p id="module-state">In‑memory busy‑state tracking for Module 4.</p>
<p>This module provides a minimal mechanism for preventing overlapping
operations in the Flask application. The state is stored in a simple
boolean variable named <code class="docutils literal notranslate"><span class="pre">_busy</span></code> so that tests can easily patch or
inspect it.</p>
<p>The busy flag is used by:
- <code class="docutils literal notranslate"><span class="pre">/pull-data</span></code> to prevent concurrent data pulls
- <code class="docutils literal notranslate"><span class="pre">/update-analysis</span></code> to avoid recomputing analysis during a pull</p>
<p>This implementation intentionally avoids any concurrency primitives
because the assignment runs in a single‑threaded test environment.</p>
<dl class="py function">
<dt class="sig sig-object py" id="state.is_busy">
<span class="sig-prename descclassname"><span class="pre">state.</span></span><span class="sig-name descname"><span class="pre">is_busy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#state.is_busy" title="Link to this definition">¶</a></dt>
<dd><p>Check whether the system is currently marked as busy.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if a scrape or update operation is in progress,
False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="state.set_busy">
<span class="sig-prename descclassname"><span class="pre">state.</span></span><span class="sig-name descname"><span class="pre">set_busy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#state.set_busy" title="Link to this definition">¶</a></dt>
<dd><p>Set the busy state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>bool</em>) – The new busy state. True marks the system as busy,</p></li>
<li><p><strong>idle.</strong> (<em>False marks it as</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">module_4</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview &amp; Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#analysis.compute_analysis"><code class="docutils literal notranslate"><span class="pre">compute_analysis()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#load_data.get_all_rows"><code class="docutils literal notranslate"><span class="pre">get_all_rows()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#load_data.insert_rows"><code class="docutils literal notranslate"><span class="pre">insert_rows()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#scrape.load_rows"><code class="docutils literal notranslate"><span class="pre">load_rows()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#state.is_busy"><code class="docutils literal notranslate"><span class="pre">is_busy()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#state.set_busy"><code class="docutils literal notranslate"><span class="pre">set_busy()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testing_guide.html">Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="operational_notes.html">Operational Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="architecture.html" title="previous chapter">Architecture</a></li>
      <li>Next: <a href="testing_guide.html" title="next chapter">Testing Guide</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.1.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/api_reference.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>